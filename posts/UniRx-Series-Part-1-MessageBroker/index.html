<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="UniRx Series — [Part 1] — MessageBroker" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/" /><meta property="og:url" content="https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/" /><meta property="og:site_name" content="Gbros Games" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-03-06T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="UniRx Series — [Part 1] — MessageBroker" /><meta name="twitter:site" content="@GbrosGames" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"headline":"UniRx Series — [Part 1] — MessageBroker","dateModified":"2022-02-21T13:25:46+01:00","datePublished":"2021-03-06T00:00:00+01:00","description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","url":"https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/"},"@context":"https://schema.org"}</script><title>UniRx Series — [Part 1] — MessageBroker | Gbros Games</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Gbros Games"><meta name="application-name" content="Gbros Games"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/74556819?s=400&u=a8b8dd8c2c4849ea105dae6b2b92c79b617e1ad1&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Gbros Games</a></div><div class="site-subtitle font-italic">We are small indie game studio. Follow our adventures through the world of game industry</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/GbrosGames" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/GbrosGames" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gbros.games.studio','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.instagram.com/gbrosgames/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>UniRx Series — [Part 1] — MessageBroker</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>UniRx Series — [Part 1] — MessageBroker</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/GbrosGames">Gbros Games</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-03-06 00:00:00 +0100" data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 6, 2021, 12:00 AM +0100" >Mar 6, 2021</em> </span> <span> Updated <em class="timeago" date="2022-02-21 13:25:46 +0100 " data-toggle="tooltip" data-placement="bottom" title="Mon, Feb 21, 2022, 1:25 PM +0100" >Feb 21, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2149 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="/assets/img/posts/message-broker/01.webp" data-proofer-ignore></p><p>This series will be highly related to <a href="https://github.com/neuecc/UniRx">UniRx</a> library</p><h2 id="prerequisites">Prerequisites<a href="#prerequisites" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Familiar with Observer pattern<li>Hands on any Rx library</ul><h2 id="introduction">Introduction<a href="#introduction" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><a href="https://github.com/neuecc/UniRx/blob/master/Assets/Plugins/UniRx/Scripts/Notifiers/MessageBroker.cs">MessageBroker</a> is an in-memory publish/subscribe messaging system that provides event-driven, decoupled architecture in order to increase performance, reliability and scalability of your Unity application.</p><p>It has three main components:</p><ul><li>Publisher of message — allows message to be broadcasted to the different parts of the application<li>Receiver of message — receives the message produced by the publisher.<li>MessageBroker — an orchestrator of all events.</ul><p>We will be using UniRx implementations. The API contains two main methods:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">IObservable</span><span class="p">&lt;</span><span class="n">TMessage</span><span class="p">&gt;</span> <span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">TMessage</span><span class="p">&gt;</span>

<span class="k">void</span> <span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Publish</span><span class="p">&lt;</span><span class="n">TMessage</span><span class="p">&gt;</span></code></pre></figure><p>Where TMessage is a type we want to publish/receive.</p><p>Receive method returns an observable, so we have to Subscribe in order to be notified by MessageBroker.</p><p>Let’s go through a simple scenario, where we will aim to propagate a message across the game that something important has happened.</p><h3 id="message">Message<a href="#message" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>First let’s create our message class.</p><p>To emphasize that our message can be anything, we will call our class GameEvent. Different approach surrounding types of objects that can be used here is described later in the article (see IMessage).</p><p>To keep things simple, our GameEvent class will contain only Name property. We will also define two distinct types of our GameEvent (Dragon and HappyHours), which we will be able to reference later.</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">GameEvent</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">Dragon</span> <span class="p">=</span> <span class="k">nameof</span><span class="p">(</span><span class="n">Dragon</span><span class="p">);</span>
	<span class="k">public</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">HappyHours</span> <span class="p">=</span> <span class="k">nameof</span><span class="p">(</span><span class="n">HappyHours</span><span class="p">);</span>

	<span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
	<span class="k">public</span> <span class="nf">GameEvent</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><p><em>TIP — It’s good to avoid magic numbers and hard coded strings. One of the easiest way to do that is to create const properties and use “nameof()”. We can easily reference this value later.</em></p><h3 id="publisher">Publisher<a href="#publisher" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>After that let’s publish a message:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Player</span><span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="c1">// when the dragon appears in range of the player</span>
	<span class="k">void</span> <span class="nf">OnDragonNoticed</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="nf">Publish</span><span class="p">(</span><span class="k">new</span> <span class="nf">GameEvent</span><span class="p">(</span><span class="n">GameEvent</span><span class="p">.</span><span class="n">Dragon</span><span class="p">));</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><h3 id="receivers">Receivers<a href="#receivers" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Now each game object that is interested in certain event has to subscribe through a receiver of our message object class:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Villager</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">MessageBroker</span>
			<span class="p">.</span><span class="n">Default</span>
			<span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;()</span>
			<span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="n">GameEvent</span><span class="p">.</span><span class="n">Dragon</span><span class="p">)</span>
			<span class="p">.</span><span class="nf">Subscribe</span><span class="p">(</span><span class="n">_</span> <span class="p">=&gt;</span> <span class="nf">Flee</span><span class="p">())</span>
			<span class="p">.</span><span class="nf">AddTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">void</span> <span class="nf">Flee</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="c1">// run as fast as possible</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>This is where familiarity with Rx library comes in handy. As you can see, we do not have to create instance of our receiver (which is an observable). We simply query for our receiver message class type (of GameEvent), to filter out our game events by name, to finally subscribe against them. AddTo() method is crucial here: it links our subscription with Villager game object instance, ensuring proper life cycle when Villager gets destroyed (there are other methods that we could use to manage lifecycle, I left description on few of them in the good practices section).</p><p>Now all villagers on the map will know that dragon is coming and they will run away to save their poor lives! Another good example is to use the same event in the AudioPlayer:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">AudioPlayer</span><span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">MessageBroker</span>
			<span class="p">.</span><span class="n">Default</span>
			<span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;()</span>
			<span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="n">GameEvent</span><span class="p">.</span><span class="n">Dragon</span><span class="p">)</span>
			<span class="p">.</span><span class="nf">Subscribe</span><span class="p">(</span><span class="n">_</span> <span class="p">=&gt;</span> <span class="nf">PlayGlobalEventSound</span><span class="p">())</span>
			<span class="p">.</span><span class="nf">AddTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>Thanks to this our AudioPlayer component will also be notified about the same events and will play some intense music to inform the player that something important has happened.</p><p>To summarize: when Player will notice the dragon, MessageBroker will publish GameEvent, and all Receivers will be notified.</p><p>What is more, our subscribers (Villager and AudioPlayer components) which are listening to the same Dragon event, both will react in their own unique way.</p><p>With this approach, we successfully decoupled our logic. Player MonoBehaviour don’t have to track any references to Villagers or AudioPlayer — and vice versa. Logic that we provided will be triggered automatically, so either Player, who is responsible here for noticing the dragon, or Villager or even AudioPlayer has to know about each other. Obviously there is many ways of handling such events. The one, that we just went through, is filtering observable by name.</p><p>Now lets have a look at another good approach, which is to create a class for each event. Lets stay with the same context and declare DragonGameEvent and HappyHoursGameEvent (both inheriting from our GameEvent class):</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">DragonGameEvent</span> <span class="p">:</span> <span class="n">GameEvent</span> <span class="p">{</span> <span class="p">}</span></code></pre></figure><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">HappyHoursGameEvent</span> <span class="p">:</span> <span class="n">GameEvent</span> <span class="p">{</span> <span class="p">}</span></code></pre></figure><p>This approach is making our solution to work on concrete types instead of string based names. Our Audio Player can now directly listen for the same event, but code gets simpler:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">AudioPlayer</span><span class="p">:</span> <span class="n">MonoBehaviour</span> 
<span class="p">{</span> 
	<span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span> 
	<span class="p">{</span> 
		<span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">DragonGameEvent</span><span class="p">&gt;(</span><span class="n">_</span> <span class="p">=&gt;</span> <span class="nf">PlayDragonSound</span><span class="p">());</span> 
	<span class="p">}</span> 
<span class="p">}</span></code></pre></figure><p>Alternatively, in case we need to identify more events or process additional data from event object, we can use pattern matching to identify what event has occurred:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">AudioPlayer</span><span class="p">:</span> <span class="n">MonoBehaviour</span> 
<span class="p">{</span> 
    <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span> 
    <span class="p">{</span> 
		<span class="n">MessageBroker</span>
			<span class="p">.</span><span class="n">Default</span>
			<span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;(</span><span class="n">message</span> <span class="p">=&gt;</span> <span class="nf">PlaySound</span><span class="p">(</span><span class="n">gameEvent</span><span class="p">))</span>
			<span class="p">.</span><span class="nf">AddTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>  
	<span class="p">}</span> 

	<span class="k">void</span> <span class="nf">PlaySound</span><span class="p">(</span><span class="n">GameEvent</span> <span class="n">gameEvent</span><span class="p">)</span>
    <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">gameEvent</span> <span class="k">is</span> <span class="n">DragonGameEvent</span> <span class="n">dragonEvent</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">// play dragon event sound</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>This wraps up basics and idea behind them. If you want to learn more, below is ours, more practical, approach to utilize power hidden behind the MessageBroker.</p><h3 id="imessage">IMessage<a href="#imessage" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>We like to keep all requests as ScriptableObjects. Most of our Messages inherits from base Message class and implements simple IMessage interface, as below:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Base class for ScriptableObject requests.</span>
<span class="c1">/// If you want to call MessageBroker from MonoBehaviours, call them directly -&gt; Message.Create()</span>
<span class="c1">/// ScriptableObject can't have constructors, try to add every Message through static Create method.</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Message</span><span class="p">:</span> <span class="n">ScriptableObject</span><span class="p">,</span> <span class="n">IMessage</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">Button</span><span class="p">]</span>
    <span class="p">[</span><span class="n">HideInEditorMode</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Publish</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="nf">PublishMessage</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure><p>If only Unity would support default interfaces we would be able to ignore base ScriptableObject class and use interface only. But for now we have to split it into base class and an interface.</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">interface</span> <span class="nc">IMessage</span>
<span class="p">{</span>
    <span class="k">void</span> <span class="nf">Publish</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure><p>Below is few useful extensions, so we don’t have to put Type into the angle brackets &lt;&gt; all the time.</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">MessageBrokerExtensions</span> 
<span class="p">{</span> 
	<span class="k">public</span> <span class="k">static</span> <span class="n">IObservable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">ReceiveMessage</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">IMessageBroker</span> <span class="n">messageBroker</span><span class="p">)</span> 
	<span class="p">=&gt;</span> <span class="n">messageBroker</span><span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;().</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">,</span> <span class="n">T</span><span class="p">&gt;();</span> 

	<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">PublishMessage</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">IMessageBroker</span> <span class="n">messageBroker</span><span class="p">,</span> <span class="n">T</span> <span class="n">message</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">IMessage</span> 
	<span class="p">=&gt;</span> <span class="n">messageBroker</span><span class="p">.</span><span class="n">Publish</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;(</span><span class="n">message</span><span class="p">);</span> 
<span class="p">}</span></code></pre></figure><p>Thanks to this setup, we don’t have to call Receive of Type every time we want to handle IMessage, of the given Type. It is a small improvement but it really makes life easier. To visualize the difference, this is before:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Publish</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;(</span><span class="n">message</span><span class="p">);</span> <span class="c1">// message.Publish();</span>
<span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">Receive</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">&gt;().</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">IMessage</span><span class="p">,</span> <span class="n">GameEvent</span><span class="p">&gt;();</span></code></pre></figure><p>and after the changes:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="nf">PublishMessage</span><span class="p">(</span><span class="n">message</span><span class="p">);</span> <span class="c1">// message.Publish();</span>
<span class="n">MessageBroker</span><span class="p">.</span><span class="n">Default</span><span class="p">.</span><span class="n">ReceiveMessage</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;();</span></code></pre></figure><p>Additional benefit to using ScriptableObjects and a base class is keeping MessageBroker abstraction well separated. So if we would like to switch to different implementation or concept, we can easily do it in one place.</p><p>Clean and simple right?</p><p>After all this changes, our GameEvent message class, from the original example, would now look like this:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">GameEvent</span> <span class="p">:</span> <span class="n">Message</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">Dragon</span> <span class="p">=</span> <span class="k">nameof</span><span class="p">(</span><span class="n">Dragon</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">const</span> <span class="kt">string</span> <span class="n">HappyHours</span> <span class="p">=</span> <span class="k">nameof</span><span class="p">(</span><span class="n">HappyHours</span><span class="p">);</span>

    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">=&gt;</span> <span class="n">name</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">GameEvent</span> <span class="nf">Create</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">instance</span> <span class="p">=</span> <span class="n">CreateInstance</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;();</span>
        <span class="n">instance</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">instance</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure><p><em>TIP — ScriptableObjects can’t have constructors. Elegant way to bypass this, is adding static Create method and assigning values, as we usually do in the constructors.</em></p><p>And our Player class, like this</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Player</span><span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
	<span class="c1">// when the dragon appears in range of the player</span>
	<span class="k">void</span> <span class="nf">OnDragonNoticed</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="c1">// before: </span>
		<span class="c1">// MessageBroker.Default.Publish(new GameEvent(GameEvent.Dragon));</span>
		<span class="c1">// now:</span>
		<span class="n">GameEvent</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">GameEvent</span><span class="p">.</span><span class="n">Dragon</span><span class="p">).</span><span class="nf">Publish</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure><h2 id="custom-editor">Custom Editor<a href="#custom-editor" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>There is one more improvement to the whole thing, that is really worth mentioning. If you are using <a href="https://odininspector.com/">Odin Inspector</a> (which we highly recommend), you can just put [Button] attribute above Publish() method in our base class. This will enable you to easily propagate Messages along all Receivers from the Inspector in the play mode.</p><p>If you don’t have <a href="https://odininspector.com/">Odin Inspector</a> (again, which we really recommend), you can use the following code:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="p">[</span><span class="nf">CustomEditor</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">Message</span><span class="p">),</span> <span class="n">editorForChildClasses</span><span class="p">:</span> <span class="k">true</span><span class="p">)]</span> 
<span class="k">public</span> <span class="k">class</span> <span class="nc">Messageditor</span> <span class="p">:</span> <span class="n">Editor</span> 
<span class="p">{</span> 
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInspectorGUI</span><span class="p">()</span> 
    <span class="p">{</span> 
		<span class="nf">DrawDefaultInspector</span><span class="p">();</span>
		
		<span class="k">if</span> <span class="p">(!</span><span class="n">Application</span><span class="p">.</span><span class="n">isPlaying</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> 
		<span class="k">if</span> <span class="p">(!(</span><span class="n">target</span> <span class="k">is</span> <span class="n">IMessage</span> <span class="n">message</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span> 
		<span class="k">if</span> <span class="p">(!</span><span class="n">GUILayout</span><span class="p">.</span><span class="nf">Button</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">IMessage</span><span class="p">.</span><span class="n">Publish</span><span class="p">)))</span> <span class="k">return</span><span class="p">;</span>
 
		<span class="n">message</span><span class="p">.</span><span class="nf">Publish</span><span class="p">();</span> 
    <span class="p">}</span> 
<span class="p">}</span></code></pre></figure><p>Thanks to all of this, we can now create Message assets in our project, and test our system by clicking “Publish” button to debug certain functionality.</p><p><img data-src="/assets/img/posts/message-broker/02.webp" data-proofer-ignore></p><p>It helps us to keep our messages organized. Debugging is easy. And whole game development process is much more comfortable.</p><h2 id="utilities">Utilities<a href="#utilities" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>You can also create many utilities based on ScriptableObjects and the Messages system. Another utility which is pretty handy is component that allows you to activate GameObject after certain message is received:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Activates game object when receive Message </span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">ActivateOnMessage</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Message</span>
<span class="p">{</span>
	<span class="c1">// the message itselft so we can reference it from the inspector</span>
	<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">protected</span> <span class="n">T</span> <span class="n">message</span><span class="p">;</span>

	<span class="c1">// condition that has to be met to activate an object</span>
	<span class="c1">// this declaration allows to change base function in case different filtration is needed</span>
		<span class="k">protected</span> <span class="k">virtual</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;</span> <span class="n">predicate</span> <span class="p">=&gt;</span> 
			<span class="n">incomingMessage</span> <span class="p">=&gt;</span> 
			<span class="n">incomingMessage</span><span class="p">.</span><span class="nf">GetType</span><span class="p">()</span> <span class="p">==</span> <span class="n">message</span><span class="p">?.</span><span class="nf">GetType</span><span class="p">();</span>

		<span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

			<span class="n">MessageBroker</span>
				<span class="p">.</span><span class="n">Default</span>
				<span class="p">.</span><span class="n">ReceiveMessage</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
				<span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span>
				<span class="p">.</span><span class="nf">Subscribe</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">true</span><span class="p">))</span>
				<span class="p">.</span><span class="nf">AddTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
		<span class="p">}</span>
<span class="p">}</span></code></pre></figure><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="c1">// general class that will activate object when any referenced message of type Message is received</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">ActivateOnMessage</span> <span class="p">:</span> <span class="n">ActivateOnMessage</span><span class="p">&lt;</span><span class="n">Message</span><span class="p">&gt;</span> <span class="p">{</span> <span class="p">}</span></code></pre></figure><p>When attached to a GameObject, above component looks like this:</p><p><img data-src="/assets/img/posts/message-broker/03.webp" data-proofer-ignore></p><p>Good place to take advantage of the above utility is to manage our game loop.</p><p>Lets say we have a game manager that is propagating game loop events like GameStart, GameEnd, GameWon, GameLost etc. With our utility tool we can easily Activate / Deactivate certain GameObjects by adding ActivateOnMessage component to GameObjects associated with our game loop.</p><p>What’s more, we have marked our ActivateOnMessage class as Generic. This gives us ability to switch base Type and to override predicates in more complex scenarios.</p><p>For example if we add ActivateOnMessage component we can reference any kind of Message as our base predicate is comparing only type of incoming message and the value referenced from the inspector:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">protected</span> <span class="k">virtual</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;</span> <span class="n">predicate</span> <span class="p">=&gt;</span> <span class="n">incomingMessage</span> <span class="p">=&gt;</span> 
	<span class="n">incomingMessage</span><span class="p">.</span><span class="nf">GetType</span><span class="p">()</span> <span class="p">==</span> <span class="n">message</span><span class="p">?.</span><span class="nf">GetType</span><span class="p">();</span></code></pre></figure><p>In order to filter GameEvents, like in our initial examples (by name), now we only need to simply create a class that inherits from ActivateOnMessage. Through usage of generic types we can reference any properties and create custom conditions:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">ActivateOnGameEvent</span> <span class="p">:</span> <span class="n">ActivateOnMessage</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">&gt;</span>
<span class="p">{</span>
	<span class="k">protected</span> <span class="k">override</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">GameEvent</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;</span> <span class="n">predicate</span> <span class="p">=&gt;</span>
		<span class="n">incomingMessage</span> <span class="p">=&gt;</span>
		<span class="n">incomingMessage</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="n">message</span><span class="p">.</span><span class="n">Name</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure><p>And component like this:</p><p><img data-src="/assets/img/posts/message-broker/04.webp" data-proofer-ignore></p><p>That being said, in 90% of cases, we simply use ActivateOnMessage and instead do filtering through properties, we filter them by type:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">DragonGameEvent</span> <span class="p">:</span> <span class="n">GameEvent</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">HappyHoursGameEvent</span> <span class="p">:</span> <span class="n">GameEvent</span> <span class="p">{}</span></code></pre></figure><p>Key take-away here is that it is much easier to maintain strongly typed messages. Otherwise you would end up hardcoding tons of settings in the inspector of many GameObjects scattered across whole solution. Which is not scaling well and is prone to human errors.</p><h2 id="unity-code-samples">Unity Code Samples<a href="#unity-code-samples" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>All code samples can be found on our GitHub <a href="https://github.com/GbrosGames/Tools/tree/main/Assets/Stateless">page</a></p><h3 id="example-1--color-switcher"><a href="https://github.com/GbrosGames/Tools/tree/main/Assets/UniRx/MessageBroker/Samples~/Example%201">Example 1</a> — Color Switcher<a href="#example-1--color-switcher" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>In this example we will use MessageBroker as simple example of code decoupling. We will create : ColorSwitchMessage — message as a request to switch color ColorGenerator component, that will generate new ColorSwitchMessage with random color whenever space bar is pressed ColorSwitcher — object that will switch its color whenever receives ColorSwitchMessage</p><h3 id="example-2--color-switcher-with-scriptableobject-request-messages"><a href="https://github.com/GbrosGames/Tools/tree/main/Assets/UniRx/MessageBroker/Samples~/Example%202">Example 2</a> — Color Switcher with ScriptableObject request messages<a href="#example-2--color-switcher-with-scriptableobject-request-messages" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>In this example we will improve our code and extract Message into ScriptableObject.</p><h3 id="example-3--zone-change"><a href="https://github.com/GbrosGames/Tools/tree/main/Assets/UniRx/MessageBroker/Samples~/Example%203">Example 3</a> — Zone Change<a href="#example-3--zone-change" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>In this example we will see how to manage and decouple Game logic from UI by using Messages. We will extract abstraction for our Messages and use IMessage class.</p><h3 id="example-4--activate-on-message"><a href="https://github.com/GbrosGames/Tools/tree/main/Assets/UniRx/MessageBroker/Samples~/Example%204">Example 4</a> — Activate on Message<a href="#example-4--activate-on-message" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>In this example we will create generic components to activate messages of given type. We will create countdown that publishes Game Start Message and activates the Player with utility component.</p><h2 id="good-practices">Good Practices<a href="#good-practices" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Lastly, lets make notes around few good practices that are worth mentioning here:</p><ul><li>It’s good to avoid magic numbers and hard coded strings. One of the greatest way is to create const property and use “nameof()”. We can easily reference this value later.<li>ScriptableObjects can’t have constructors. We can replace it in elegant way by creating static Create method and assign values as usual in constructors.<li>Lifecycle: remember to dispose subscriptions of your observables by using TakeWhile, TakeUntil, TakeUntilDestroy and TakeUntilDisable or simply add .AddTo(this) when you are in MonoBehaviour to prevent execution if component is destroyed that may leading to unexpected behaviours</ul><h2 id="where-to-go-from-here">Where To Go From Here<a href="#where-to-go-from-here" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>This is first part of the article about UniRx. If you are interested, be sure to check next part that will cover in details the monitors.</p><p>All related scripts (and more!) can be found in our <a href="https://github.com/GbrosGames/Tools/tree/main/Assets/UniRx/MessageBroker/Samples~">examples repository</a>, so please give it a try! Finally If you want to do more reading check resources section!</p><h2 id="resources">Resources<a href="#resources" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">The introduction to Reactive Programming you’ve been missing</a><li><a href="http://introtorx.com/">Practical Rx Training</a><li><a href="https://github.com/neuecc/UniRx">UniRx Library</a><li><a href="https://github.com/reactivemanifesto/reactivemanifesto">Reactive manifesto</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/unity/'>Unity</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/unity/" class="post-tag no-text-decoration" >Unity</a> <a href="/tags/unirx/" class="post-tag no-text-decoration" >UniRx</a> <a href="/tags/intermediate/" class="post-tag no-text-decoration" >Intermediate</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=UniRx Series — [Part 1] — MessageBroker - Gbros Games&url=https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=UniRx Series — [Part 1] — MessageBroker - Gbros Games&u=https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=UniRx Series — [Part 1] — MessageBroker - Gbros Games&url=https://gbrosgames.github.io/posts/UniRx-Series-Part-1-MessageBroker/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Leveraging-SerializeReference-for-Flexible-Commands-in-Unity-Game-Development/">Leveraging SerializeReference for Flexible Commands in Unity Game Development</a><li><a href="/posts/Watchers/">Watchers</a><li><a href="/posts/Stateless-in-Unity/">Stateless in Unity</a><li><a href="/posts/UniRx-Series-Part-1-MessageBroker/">UniRx Series — [Part 1] — MessageBroker</a><li><a href="/posts/UniRx-PowerObservables/">UniRx — PowerObservables</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/intermediate/">Intermediate</a> <a class="post-tag" href="/tags/unity/">Unity</a> <a class="post-tag" href="/tags/unirx/">UniRx</a> <a class="post-tag" href="/tags/advanced/">Advanced</a> <a class="post-tag" href="/tags/beginner/">Beginner</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/UniRx-PowerObservables/"><div class="card-body"> <em class="timeago small" date="2021-07-21 00:00:00 +0200" >Jul 21, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>UniRx — PowerObservables</h3><div class="text-muted small"><p> Prerequisites Familiar with Observer pattern Hands on any Rx library Introduction PowerObservables are set of time-based operations with ability to pause and possibility to manage tick fre...</p></div></div></a></div><div class="card"> <a href="/posts/Watchers/"><div class="card-body"> <em class="timeago small" date="2022-06-11 00:00:00 +0200" >Jun 11, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Watchers</h3><div class="text-muted small"><p> Introduction Have you ever struggled with jumping from tab to tab, from window to window? Are you tired of the endless journey through the object hierarchy to find the right one? Are you tired of...</p></div></div></a></div><div class="card"> <a href="/posts/Leveraging-SerializeReference-for-Flexible-Commands-in-Unity-Game-Development/"><div class="card-body"> <em class="timeago small" date="2023-08-11 00:00:00 +0200" >Aug 11</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Leveraging SerializeReference for Flexible Commands in Unity Game Development</h3><div class="text-muted small"><p> Introduction In the fast-paced world of game development, time is often a precious commodity. Finding efficient solutions that offer quick testing and flexible configuration becomes paramount. We,...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Stateless-in-Unity/" class="btn btn-outline-primary" prompt="Older"><p>Stateless in Unity</p></a> <a href="/posts/UniRx-PowerObservables/" class="btn btn-outline-primary" prompt="Newer"><p>UniRx — PowerObservables</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/GbrosGames">Gbros Games</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/intermediate/">Intermediate</a> <a class="post-tag" href="/tags/unity/">Unity</a> <a class="post-tag" href="/tags/unirx/">UniRx</a> <a class="post-tag" href="/tags/advanced/">Advanced</a> <a class="post-tag" href="/tags/beginner/">Beginner</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-35F6LPD7RF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-35F6LPD7RF'); }); </script>
